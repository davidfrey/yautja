"use client";
import Link from "next/link";
import { type ScriptProps } from "next/script";
import { useState } from "react";

function TopNav({ session }: { session: ScriptProps["session"] }) {
  const [isOpen, setIsOpen] = useState(false);

  const toggleMenu = () => {
    setIsOpen(!isOpen);
    console.log(isOpen);
  };

  return (
    <div>
      <nav className="flex flex-wrap items-center justify-between bg-sky-800 p-6">
        <div className="mr-6 flex flex-shrink-0 items-center text-white">
          <svg
            className="h-13 w-13"
            width="60"
            height="60"
            viewBox="0 0 1100 1100"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              id="Eyes"
              d="M358.069,583.528c-0,0 69.805,51.547 103.832,80.837c-14.783,9.436 -40.333,12.48 -69.438,-16.684c-29.105,-29.164 -34.394,-64.153 -34.394,-64.153Zm367.706,0c-0,0 -5.29,34.989 -34.395,64.153c-29.105,29.164 -54.654,26.12 -69.437,16.684c34.026,-29.29 103.832,-80.837 103.832,-80.837Z"
              className="text-white"
            />
            <path
              id="Head"
              d="M539.737,620.854c-28.093,-0.671 -64.258,-22.008 -98.967,-50.073c-30.152,-24.38 -53.324,-51.634 -75.571,-76.953c-12.56,-14.295 -37.568,-92.162 -33.63,-138.285c4.463,-52.271 103.158,-140.167 208.267,-143.709l0,-0.036c0.193,0.005 0.385,0.011 0.578,0.017c0.192,-0.006 0.385,-0.012 0.578,-0.017l-0,0.036c105.108,3.542 203.804,91.438 208.267,143.709c3.938,46.123 -21.07,123.99 -33.63,138.285c-22.247,25.319 -45.419,52.573 -75.571,76.953c-34.709,28.065 -70.874,49.402 -98.967,50.073c0,0.011 0,0.016 0,0.016c-0.225,0 -0.451,-0.001 -0.677,-0.004c-0.226,0.003 -0.452,0.004 -0.677,0.004c-0,0 -0,-0.005 -0,-0.016Zm-0.469,328.16c-29.945,-0.274 -59.451,-4.186 -67.094,-11.394c0.55,0.482 25.758,-240.554 24.639,-242.052c19.821,6.305 31.837,9.663 43.601,9.992c11.764,-0.329 23.78,-3.687 43.6,-9.992c-1.118,1.498 24.09,242.534 24.64,242.052c-7.644,7.208 -37.149,11.12 -67.094,11.394c-0.001,0.009 -0.002,0.014 -0.002,0.014c-0.381,-0.002 -0.763,-0.003 -1.144,-0.006c-0.381,0.003 -0.763,0.004 -1.144,0.006c-0.001,-0 -0.001,-0.005 -0.002,-0.014Zm0.359,-804.172l-0,-0.003c0.262,0 0.525,0.001 0.787,0.001c0.262,-0 0.524,-0.001 0.787,-0.001l-0,0.003c230.951,0.666 295.714,147.969 303.155,187.827c8.117,43.485 -62.346,97.376 -77.377,111.431c-12.82,11.988 -40.325,43.036 -40.325,43.036c0,0 27.77,-40.751 30.342,-105.997c12.55,-3.419 23.251,-10.256 22.457,-48.34c-0.793,-38.036 -66.187,-147.965 -239.039,-148.246c-172.852,0.281 -238.246,110.21 -239.039,148.246c-0.794,38.084 9.907,44.921 22.456,48.34c2.573,65.246 30.343,105.997 30.343,105.997c-0,0 -27.505,-31.048 -40.325,-43.036c-15.031,-14.055 -85.494,-67.946 -77.377,-111.431c7.44,-39.858 72.204,-187.161 303.155,-187.827Zm-337.703,745.113c0,0 -44.699,-77.439 -51.322,-209.866c-6.624,-132.427 60.074,-272.143 81.085,-314.522c11.294,38.023 44.978,60.252 44.978,60.252c0,0 -96.028,159.853 -95.78,260.839c0.249,100.987 21.039,203.297 21.039,203.297Zm80.156,-457.581c22.918,14.906 31.329,28.942 31.329,28.942c0,-0 -4.55,47.45 69.281,127.736c-67.681,-38.829 -103.647,-92.637 -103.647,-92.637c0,0 -19.859,-31.551 3.037,-64.041Zm-21.147,64.084c-0,0 14.09,34.996 29.472,47.214c-2.306,38.647 -33.01,87.723 -43.308,184.669c-10.297,96.945 14.43,216.736 14.43,216.736c0,-0 -48.507,-104.163 -39.502,-271.403c4.307,-79.995 38.908,-177.216 38.908,-177.216Zm30.886,120.348c-0,-0 18.091,37.776 17.566,57.956c-0.737,28.392 -13.663,46.189 -21.992,112.392c-8.328,66.203 15.896,157.773 15.896,157.773c-0,0 -40.052,-96.115 -36.781,-186.424c3.271,-90.309 25.311,-141.697 25.311,-141.697Zm8.444,202.692l9.199,-26.542c0,0 9.572,31.53 27.278,72.062c7.959,18.219 41.125,76.48 41.125,76.48c0,-0 -44.592,-50.612 -54.698,-68.1c-22.059,-38.169 -22.904,-53.9 -22.904,-53.9Zm236.068,-135.731c-135.191,-40.29 -223.177,-198.112 -216.074,-221.348c102.466,119.503 187.19,162.325 216.16,169.219c4.64,30.898 0.227,52.222 -0.086,52.129Zm-201.936,55.609c24.345,37.018 96.651,46.083 121.09,81.341c16.437,23.714 -1.852,134.709 -1.869,134.63c-10.008,-45.476 -54.704,-108.509 -120.61,-159.394c-7.295,-25.955 1.236,-56.81 1.389,-56.577Zm3.834,-37.208c47.795,30.734 119.385,46.701 133.095,92.348c0.075,0.249 -1.598,27.314 -5.624,40.518c-2.023,-51.84 -113.511,-65.137 -129.209,-101.918c0.716,-7.014 1.713,-19.233 1.738,-30.948Zm-29.326,-139.639c70.742,141.133 170.618,131.914 170.618,131.914c-0,0 7.096,3.171 -6.177,90.318c-4.516,-33.415 -77.682,-57.294 -134.681,-90.036c1.965,-27.333 -1.777,-43.543 -29.76,-132.196Zm570.001,327.426c-0,0 20.79,-102.31 21.039,-203.297c0.248,-100.986 -95.781,-260.839 -95.781,-260.839c0,0 33.685,-22.229 44.979,-60.252c21.01,42.379 87.708,182.095 81.085,314.522c-6.624,132.427 -51.322,209.866 -51.322,209.866Zm-80.156,-457.581c22.896,32.49 3.036,64.041 3.036,64.041c0,0 -35.965,53.808 -103.646,92.637c73.831,-80.286 69.28,-127.736 69.28,-127.736c0,-0 8.412,-14.036 31.33,-28.942Zm21.147,64.084c-0,0 34.601,97.221 38.908,177.216c9.004,167.24 -39.502,271.403 -39.502,271.403c-0,-0 24.727,-119.791 14.43,-216.736c-10.298,-96.946 -41.003,-146.022 -43.309,-184.669c15.383,-12.218 29.473,-47.214 29.473,-47.214Zm-30.886,120.348c0,-0 22.04,51.388 25.311,141.697c3.27,90.309 -36.781,186.424 -36.781,186.424c0,0 24.224,-91.57 15.895,-157.773c-8.328,-66.203 -21.254,-84 -21.992,-112.392c-0.524,-20.18 17.567,-57.956 17.567,-57.956Zm-8.444,202.692c-0,0 -0.845,15.731 -22.904,53.9c-10.106,17.488 -54.699,68.1 -54.699,68.1c0,-0 33.167,-58.261 41.126,-76.48c17.706,-40.532 27.277,-72.062 27.277,-72.062l9.2,26.542Zm-236.068,-135.731c-0.313,0.093 -4.727,-21.231 -0.086,-52.129c28.969,-6.894 113.694,-49.716 216.16,-169.219c7.102,23.236 -80.883,181.058 -216.074,221.348Zm201.936,55.609c0.153,-0.233 8.684,30.622 1.388,56.577c-65.905,50.885 -110.602,113.918 -120.609,159.394c-0.017,0.079 -18.306,-110.916 -1.869,-134.63c24.439,-35.258 96.745,-44.323 121.09,-81.341Zm-3.834,-37.208c0.025,11.715 1.022,23.934 1.738,30.948c-15.698,36.781 -127.186,50.078 -129.209,101.918c-4.026,-13.204 -5.699,-40.269 -5.624,-40.518c13.71,-45.647 85.3,-61.614 133.095,-92.348Zm29.325,-139.639c-27.982,88.653 -31.725,104.863 -29.76,132.196c-56.998,32.742 -130.165,56.621 -134.68,90.036c-13.273,-87.147 -6.177,-90.318 -6.177,-90.318c0,0 99.876,9.219 170.617,-131.914Z"
              className="text-white"
            />
            <g id="Layer1"></g>
          </svg>

          <span className="text-xl font-semibold tracking-tight">
            Yautja Planner
          </span>
        </div>

        <div className="block lg:hidden">
          <button
            className="flex items-center rounded border border-sky-400 px-3 py-2 text-sky-200 hover:border-white hover:text-white"
            onClick={toggleMenu}
          >
            <svg
              className="h-3 w-3 fill-current"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <title>Menu</title>
              <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" />
            </svg>
          </button>
        </div>

        <div
          className={`w-full flex-grow text-right lg:flex lg:w-auto lg:items-center lg:text-left ${isOpen ? "block" : "hidden"}`}
        >
          <div className="text-sm lg:flex-grow">
            <a
              href="/"
              className="block text-sky-200 hover:text-white lg:mr-4 lg:mt-0 lg:inline-block"
            >
              Dashboard
            </a>
            <a
              href="/"
              className="block text-sky-200 hover:text-white lg:mt-0 lg:inline-block"
            >
              Opportunities
            </a>
          </div>
          <div>
            <div className="text-xs">
              <Link
                href={session ? "/api/auth/signout" : "/api/auth/signin"}
                className="block text-sky-200 hover:text-white lg:inline-block"
              >
                {session ? "Sign Out" : "Sign In"}
              </Link>
            </div>
          </div>
        </div>
      </nav>
    </div>
  );
}

export default TopNav;
